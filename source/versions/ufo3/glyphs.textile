<div class="section">

h1. Glyph Directories (draft)

A glyphs directory represents a layer of glyph data in a font. This glyph data files will be in "Glyph Interchange Format":glif.html. It contains one or more %(inlineeditorsnote)(can a layer contain zero glyphs?)% GLIF files and a "contents.plist":#contents %(inlineeditorsnote)(is this file required?)% file defining the file name to glyph name mapping. A "layerinfo.plist":#layerinfo file may be present defining various properties of the layer.

</div>

<div class="section">

h1(#contents). contents.plist

| *File Format* | "XML Property List":http://www.apple.com/DTDs/PropertyList-1.0.dtd |

<div class="editorsnote">Mention that this file is required.</div>

_contents.plist_ contains a dictionary that maps glyph names to GLIF file names. Those file names must be plain file names, not absolute or relative paths in the file system. Care must be taken when choosing file names: glyph names are case sensitive, yet many file systems are not. There is no one standard glyph name to file name conversion. However, a common implementation is defined in the "conventions":conventions.html#usernametofilename.

<div class="discussionnote">
Are there any rules governing what characters can be used in a glyph name? Obviously there are the FDK requirements, but do we want to enforce those here?

We should also mention that glyph names must be unique. No duplicates.
</div>

h2. Specification

The property list data consists of a dictionary at the top level. The keys are glyph names and the values are file names.

h3. Example

<pre class="prettyprint">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple Computer//DTD PLIST 1.0//EN&quot;
&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
  &lt;key&gt;A&lt;/key&gt;
  &lt;string&gt;A_.glif&lt;/string&gt;
  &lt;key&gt;B&lt;/key&gt;
  &lt;string&gt;B_.glif&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</pre>

</div>

<div class="section">

h1(#layerinfo). layerinfo.plist

| *File Format* | Property List |

This file contains information about the layer. This file is optional. Not all values are required for a proper file.

h2. Specification

The property list data consists of a dictionary at the top level. The keys and values are as follows.

|_. key        |_. value type                              |_. description |_. default value |
| guidelines   | array                                     | An array of guideline definitions that apply to all glyphs in the layer. | None |
| fillColor    | "color definition":conventions.html#color | The color that should be used to fill all glyphs in the layer. This attribute is optional. | None |
| strokeColor  | "color definition":conventions.html#color | The color that should be used to stroke all glyphs in the layer. This attribute is optional. | None |
| strokeWidth  | positive integer or float                 | The weight of the stroke to be applied to all glyphs in the layer. This attribute is optional. | None |
| lib          | dictionary                                | A lib specific to the layer. To avoid naming conflicts, keys should use the "Reverse Domain Naming Scheme":conventions.html#reversedomain defined for lib.plist. | None |

h3. Guideline Format

The guidelines are stored as dictionaries of the following format.

|_. key    |_. value type     |_. description |_. default value |
| x        | integer or float | The 'x' coordinate. | None. Optional if _y_ is provided and _angle_ is not provided. See below for details. |
| y        | integer or float | The 'y' coordinate. | None. Optional if _x_ is provided and _angle_ is not provided. See below for details. |
| angle    | integer or float | The angle of the guideline. This must be a value between 0 and 360 in a clockwise direction. | None. If x or y are not specified, the angle must not be specified. If it is specified in this case, it should be ignored. See below for details. |
| name     | string           | An arbitrary name for the guideline. This attribute is optional.  | None |
| color    | string           | The color that should be applied to the guideline. The format follows the "color definition":#color standard. This attribute is optional. | None |

The guideline extends along _angle_ to infinity in both directions out of the point defined by _x_ and _y_. If _y_ and _angle_ are omitted, the element represents a vertical guideline. If _x_ and _angle_ are omitted, the element represents a horizontal guideline. If _y_ is omitted and _angle_ if provided, _y_ is zero. If _x_ is omitted and _angle_ is provided, _x_ is zero.

<div class="discussionnote">
See the discussion about guideline formats in the GLIF section.
</div>
</div>