<div class="section">

h1. Glyphs Directory (draft)

A glyphs directory represents a layer of glyph data in a font. This glyph data files will be in "Glyph Interchange Format":glif.html. It must contain at least one GLIF file and it must contain a "contents.plist":#contents file defining the file name to glyph name mapping. A "layerinfo.plist":#layerinfo file may be present defining various properties of the layer.
</div>

<div class="section">

h1(#contents). contents.plist

table(evenColumns).
| *File Format* | "XML Property List":http://www.apple.com/DTDs/PropertyList-1.0.dtd |

_contents.plist_ contains a dictionary that maps glyph names to GLIF file names.

Glyph names may contain any character and they may be any length. Glyph names must be unique within the layer.

h2. Specification

The property list data consists of a dictionary at the top level. The keys are glyph names and the values are file names.

The file names must end with ".glif" and must begin with a string that is unique within the layer. The file names stored in the property list must be plain file names, not absolute or relative paths in the file system, and they must include the ".glif" extension. Care must be taken when choosing file names: glyph names are case sensitive, yet many file systems are not. There is no one standard glyph name to file name conversion. However, a common implementation is defined in the "conventions":conventions.html#usernametofilename.

h3. Example

<pre class="prettyprint">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple Computer//DTD PLIST 1.0//EN&quot;
&quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
  &lt;key&gt;A&lt;/key&gt;
  &lt;string&gt;A_.glif&lt;/string&gt;
  &lt;key&gt;B&lt;/key&gt;
  &lt;string&gt;B_.glif&lt;/string&gt;
&lt;/dict&gt;
&lt;/plist&gt;
</pre>

</div>

<div class="section">

h1(#layerinfo). layerinfo.plist

table(evenColumns).
| *File Format* | "XML Property List":http://www.apple.com/DTDs/PropertyList-1.0.dtd |

This file contains information about the layer. This file is optional. Not all values are required for a proper file.

h2. Specification

The property list data consists of a dictionary at the top level. The keys and values are as follows.

|_. key        |_. value type                              |_. description |_. default value |
| guidelines   | array                                     | An array of guideline definitions that apply to all glyphs in the layer. This attribute is optional. | None |
| color    | "color definition":conventions.html#color | The color that should be used for all glyphs in the layer. This attribute is optional. | None |
| lib          | dictionary                                | A lib specific to the layer. To avoid naming conflicts, keys should use the "Reverse Domain Naming Scheme":conventions.html#reversedomain defined for lib.plist. | None |

h3. Guideline Format

The guidelines are stored as dictionaries of the following format.

|_. key    |_. value type     |_. description |_. default value |
| x        | integer or float | The 'x' coordinate. | None. Optional if _y_ is provided and _angle_ is not provided. See below for details. |
| y        | integer or float | The 'y' coordinate. | None. Optional if _x_ is provided and _angle_ is not provided. See below for details. |
| angle    | integer or float | The angle of the guideline. This must be a value between 0 and 360 in a clockwise direction. | None. If x or y are not specified, the angle must not be specified. See below for details. |
| name     | string           | An arbitrary name for the guideline. This attribute is optional.  | None |
| color    | string           | The color that should be applied to the guideline. The format follows the "color definition":#color standard. This attribute is optional. | None |

The guideline extends along _angle_ to infinity in both directions out of the point defined by _x_ and _y_. If _y_ and _angle_ are omitted, the element represents a vertical guideline. If _x_ and _angle_ are omitted, the element represents a horizontal guideline. If _y_ is omitted and _angle_ if provided, _y_ is zero. If _x_ is omitted and _angle_ is provided, _x_ is zero.

<div class="discussionNote">
The value of per layer guides is under debate. The most common model currently in use (FontLab, others) allows for font level guides and glyph level guides. There are no per layer guides available. An alternative proposal is to add a place for font level guides in fontinfo.plist.
</div>

</div>